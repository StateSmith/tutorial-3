<!-- This is a hand written file. It is written to be easy to follow. -->
<html>
    <!-- ignore this blank favicon -->
    <link rel="icon" href="data:;base64,=">

    <body>
        <p>
            An example hierarchical state machine for Mario. Press the buttons below to exercise the state machine.<br>
            If you see a broken image below, you still need to follow the <code>README.md</code> in this directory.
        </p>
        <div id="mario">
            <img src="">
        </div>
        <button onclick="myMarioSm.dispatchEvent(MarioSm.EventId.CRUSH)" title="CRUSH"><img src="img/thwomp.png"></button>
        <button onclick="myMarioSm.dispatchEvent(MarioSm.EventId.HIT)" title="HIT"><img src="img/goomba.webp"></button>
        <button onclick="myMarioSm.dispatchEvent(MarioSm.EventId.MUSHROOM)"><img src="img/mushroom.webp"></button>
        <button onclick="myMarioSm.dispatchEvent(MarioSm.EventId.FIRE_FLOWER)"><img src="img/fire-flower.png"></button>
    </body>

    <!-- JavaScript below html body so that we don't need to wait for body to load -->

    <!-- Include generated state machine file -->
    <script src="MarioSm.js"></script>

    <script>
        // Get mario image element so that we can change the image with state changes
        const marioImg = document.querySelector("#mario img");

        // Create a new instance (you could have multiple) of our Mario state machine and start it
        let myMarioSm = new MarioSm();
        myMarioSm.start();

        // Below are global functions that are called by the state machine.
        // You don't have to use global functions with StateSmith.
        // We will cover various alternatives in a later lesson (composition, inheritance, etc.).

        // switch Mario image to small mario gif
        function smallMario() {
            marioImg.src = "img/small-mario-dance.gif"
        }

        function defeatedMario() {
            marioImg.src = "img/defeated-2.gif"
        }

        function superMario() {
            marioImg.src = "img/big-mario-dance.gif"
        }

        function fireMario() {
            marioImg.src = "img/fire-mario-dance.gif"
        }
    </script>

    <!-- Don't worry about the below CSS styling -->
    <style>
        button img {
            padding: 10px;
            width: 20vw;
            max-width: 100px;
        }

        #mario img {
            height: 60vh;
            padding-bottom: 5vh;
        }

        button:hover {
            background-color: hsl(197, 93%, 52%);
            cursor: pointer;
        }

        button:active {
            background-color: #f7d514;
            cursor: pointer;
        }
    </style>
</html>